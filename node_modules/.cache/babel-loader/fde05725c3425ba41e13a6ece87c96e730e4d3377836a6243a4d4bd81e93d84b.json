{"ast":null,"code":"import _classCallCheck from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport SequentialIDGenerator from \"./sequential-id-generator\";\nimport sortMq from \"./sort-css-media-queries\";\nexport var MultiCache = /*#__PURE__*/function () {\n  function MultiCache(idGenerator, onNewCache, onNewValue) {\n    _classCallCheck(this, MultiCache);\n    this.idGenerator = idGenerator;\n    this.onNewCache = onNewCache;\n    this.onNewValue = onNewValue;\n    this.sortedCacheKeys = [];\n    this.caches = {};\n  }\n  _createClass(MultiCache, [{\n    key: \"getCache\",\n    value: function getCache(key) {\n      if (!this.caches[key]) {\n        var cache = new Cache(this.idGenerator, this.onNewValue);\n        cache.key = key;\n        this.sortedCacheKeys.push(key);\n        this.sortedCacheKeys.sort(sortMq);\n        var keyIndex = this.sortedCacheKeys.indexOf(key);\n        var insertBeforeMedia = keyIndex < this.sortedCacheKeys.length - 1 ? this.sortedCacheKeys[keyIndex + 1] : void 0;\n        this.caches[key] = cache;\n        this.onNewCache(key, cache, insertBeforeMedia);\n      }\n      return this.caches[key];\n    }\n  }, {\n    key: \"getSortedCacheKeys\",\n    value: function getSortedCacheKeys() {\n      return this.sortedCacheKeys;\n    }\n  }]);\n  return MultiCache;\n}();\nexport var Cache = /*#__PURE__*/function () {\n  function Cache(idGenerator, onNewValue) {\n    _classCallCheck(this, Cache);\n    this.cache = {};\n    this.idGenerator = idGenerator;\n    this.onNewValue = onNewValue;\n  }\n  _createClass(Cache, [{\n    key: \"addValue\",\n    value: function addValue(key, value) {\n      var cached = this.cache[key];\n      if (cached) {\n        return cached;\n      }\n      var id = this.idGenerator.next();\n      this.cache[key] = id;\n      this.onNewValue(this, id, value);\n      return id;\n    }\n  }]);\n  return Cache;\n}();","map":{"version":3,"names":["SequentialIDGenerator","sortMq","MultiCache","idGenerator","onNewCache","onNewValue","_classCallCheck","sortedCacheKeys","caches","_createClass","key","value","getCache","cache","Cache","push","sort","keyIndex","indexOf","insertBeforeMedia","length","getSortedCacheKeys","addValue","cached","id","next"],"sources":["D:\\MyPortfolio-master\\node_modules\\styletron-engine-atomic\\dist-browser-esm\\src\\cache.ts"],"sourcesContent":["import SequentialIDGenerator from \"./sequential-id-generator\";\nimport sortMq from \"./sort-css-media-queries\";\n\ntype OnNewCacheFn<T> = (\n  key: string,\n  cache: Cache<T>,\n  value?: string | null,\n) => any;\ntype OnNewValueFn<T> = (cache: Cache<T>, id: string, value: T) => any;\n\nexport class MultiCache<T> {\n  caches: {\n    [x: string]: Cache<T>;\n  };\n  idGenerator: SequentialIDGenerator;\n  onNewCache: OnNewCacheFn<T>;\n  onNewValue: OnNewValueFn<T>;\n  sortedCacheKeys: string[];\n\n  constructor(\n    idGenerator: SequentialIDGenerator,\n    onNewCache: OnNewCacheFn<T>,\n    onNewValue: OnNewValueFn<T>,\n  ) {\n    this.idGenerator = idGenerator;\n    this.onNewCache = onNewCache;\n    this.onNewValue = onNewValue;\n    this.sortedCacheKeys = [];\n    this.caches = {};\n  }\n\n  getCache(key: string): Cache<T> {\n    if (!this.caches[key]) {\n      const cache = new Cache(this.idGenerator, this.onNewValue);\n      cache.key = key;\n      this.sortedCacheKeys.push(key);\n      this.sortedCacheKeys.sort(sortMq);\n      const keyIndex = this.sortedCacheKeys.indexOf(key);\n      const insertBeforeMedia =\n        keyIndex < this.sortedCacheKeys.length - 1\n          ? this.sortedCacheKeys[keyIndex + 1]\n          : void 0;\n      this.caches[key] = cache;\n      this.onNewCache(key, cache, insertBeforeMedia);\n    }\n    return this.caches[key];\n  }\n\n  getSortedCacheKeys() {\n    return this.sortedCacheKeys;\n  }\n}\n\nexport class Cache<T> {\n  cache: {\n    [x: string]: string;\n  };\n  idGenerator: SequentialIDGenerator;\n  key: string;\n  onNewValue: (cache: Cache<T>, id: string, value: any) => any;\n\n  constructor(\n    idGenerator: SequentialIDGenerator,\n    onNewValue: (cache: Cache<T>, id: string, value: any) => any,\n  ) {\n    this.cache = {};\n    this.idGenerator = idGenerator;\n    this.onNewValue = onNewValue;\n  }\n\n  addValue(key: string, value: T) {\n    const cached = this.cache[key];\n    if (cached) {\n      return cached;\n    }\n    const id = this.idGenerator.next();\n    this.cache[key] = id;\n    this.onNewValue(this, id, value);\n    return id;\n  }\n}\n"],"mappings":";;AAAA,OAAOA,qBAAP,MAAkC,2BAAlC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AASA,WAAaC,UAAN;EASL,SAAAA,WACEC,WADS,EAETC,UAFS,EAGTC,UAHS,EAIT;IAAAC,eAAA,OAAAJ,UAAA;IACA,KAAKC,WAAL,GAAmBA,WAAnB;IACA,KAAKC,UAAL,GAAkBA,UAAlB;IACA,KAAKC,UAAL,GAAkBA,UAAlB;IACA,KAAKE,eAAL,GAAuB,EAAvB;IACA,KAAKC,MAAL,GAAc,EAAd;EACD;EAAAC,YAAA,CAAAP,UAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,SAASF,GAAD,EAAwB;MAC9B,IAAI,CAAC,KAAKF,MAAL,CAAYE,GAAZ,CAAL,EAAuB;QACrB,IAAMG,KAAK,GAAG,IAAIC,KAAJ,CAAU,KAAKX,WAAf,EAA4B,KAAKE,UAAjC,CAAd;QACAQ,KAAK,CAACH,GAAN,GAAYA,GAAZ;QACA,KAAKH,eAAL,CAAqBQ,IAArB,CAA0BL,GAA1B;QACA,KAAKH,eAAL,CAAqBS,IAArB,CAA0Bf,MAA1B;QACA,IAAMgB,QAAQ,GAAG,KAAKV,eAAL,CAAqBW,OAArB,CAA6BR,GAA7B,CAAjB;QACA,IAAMS,iBAAiB,GACrBF,QAAQ,GAAG,KAAKV,eAAL,CAAqBa,MAArB,GAA8B,CAAzC,GACI,KAAKb,eAAL,CAAqBU,QAAQ,GAAG,CAAhC,CADJ,GAEI,KAAK,CAHX;QAIA,KAAKT,MAAL,CAAYE,GAAZ,IAAmBG,KAAnB;QACA,KAAKT,UAAL,CAAgBM,GAAhB,EAAqBG,KAArB,EAA4BM,iBAA5B;MACD;MACD,OAAO,KAAKX,MAAL,CAAYE,GAAZ,CAAP;IACD;EAAA;IAAAA,GAAA;IAAAC,KAAA,EAED,SAAAU,mBAAA,EAAqB;MACnB,OAAO,KAAKd,eAAZ;IACD;EAAA;EAAA,OAAAL,UAAA;AAAA;AAGH,WAAaY,KAAN;EAQL,SAAAA,MACEX,WADS,EAETE,UAFS,EAGT;IAAAC,eAAA,OAAAQ,KAAA;IACA,KAAKD,KAAL,GAAa,EAAb;IACA,KAAKV,WAAL,GAAmBA,WAAnB;IACA,KAAKE,UAAL,GAAkBA,UAAlB;EACD;EAAAI,YAAA,CAAAK,KAAA;IAAAJ,GAAA;IAAAC,KAAA,EAED,SAAAW,SAASZ,GAAD,EAAcC,KAAd,EAAwB;MAC9B,IAAMY,MAAM,GAAG,KAAKV,KAAL,CAAWH,GAAX,CAAf;MACA,IAAIa,MAAJ,EAAY;QACV,OAAOA,MAAP;MACD;MACD,IAAMC,EAAE,GAAG,KAAKrB,WAAL,CAAiBsB,IAAjB,EAAX;MACA,KAAKZ,KAAL,CAAWH,GAAX,IAAkBc,EAAlB;MACA,KAAKnB,UAAL,CAAgB,IAAhB,EAAsBmB,EAAtB,EAA0Bb,KAA1B;MACA,OAAOa,EAAP;IACD;EAAA;EAAA,OAAAV,KAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}