{"ast":null,"code":"import _objectSpread from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toConsumableArray from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/MyPortfolio-master/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar _excluded = [\"class\"];\nimport SequentialIDGenerator from \"../sequential-id-generator\";\nimport { Cache, MultiCache } from \"../cache\";\nimport injectStylePrefixed from \"../inject-style-prefixed\";\nimport { styleBlockToRule, atomicSelector, keyframesBlockToRule, declarationsToBlock, keyframesToBlock, fontFaceBlockToRule } from \"../css\";\nvar StyletronServer = /*#__PURE__*/function () {\n  function StyletronServer() {\n    var _this = this;\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, StyletronServer);\n    this.styleRules = {\n      \"\": \"\"\n    };\n    this.styleCache = new MultiCache(new SequentialIDGenerator(opts.prefix), function (media) {\n      _this.styleRules[media] = \"\";\n    }, function (cache, id, value) {\n      var pseudo = value.pseudo,\n        block = value.block;\n      _this.styleRules[cache.key] += styleBlockToRule(atomicSelector(id, pseudo), block);\n    });\n    this.fontFaceRules = \"\";\n    this.fontFaceCache = new Cache(new SequentialIDGenerator(opts.prefix), function (cache, id, value) {\n      _this.fontFaceRules += fontFaceBlockToRule(id, declarationsToBlock(value));\n    });\n    this.keyframesRules = \"\";\n    this.keyframesCache = new Cache(new SequentialIDGenerator(opts.prefix), function (cache, id, value) {\n      _this.keyframesRules += keyframesBlockToRule(id, keyframesToBlock(value));\n    });\n  }\n  _createClass(StyletronServer, [{\n    key: \"renderStyle\",\n    value: function renderStyle(style) {\n      return injectStylePrefixed(this.styleCache, style, \"\", \"\");\n    }\n  }, {\n    key: \"renderFontFace\",\n    value: function renderFontFace(fontFace) {\n      var key = JSON.stringify(fontFace);\n      return this.fontFaceCache.addValue(key, fontFace);\n    }\n  }, {\n    key: \"renderKeyframes\",\n    value: function renderKeyframes(keyframes) {\n      var key = JSON.stringify(keyframes);\n      return this.keyframesCache.addValue(key, keyframes);\n    }\n  }, {\n    key: \"getStylesheets\",\n    value: function getStylesheets() {\n      return [].concat(_toConsumableArray(this.keyframesRules.length ? [{\n        css: this.keyframesRules,\n        attrs: {\n          \"data-hydrate\": \"keyframes\"\n        }\n      }] : []), _toConsumableArray(this.fontFaceRules.length ? [{\n        css: this.fontFaceRules,\n        attrs: {\n          \"data-hydrate\": \"font-face\"\n        }\n      }] : []), _toConsumableArray(sheetify(this.styleRules, this.styleCache.getSortedCacheKeys())));\n    }\n  }, {\n    key: \"getStylesheetsHtml\",\n    value: function getStylesheetsHtml() {\n      var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"_styletron_hydrate_\";\n      return generateHtmlString(this.getStylesheets(), className);\n    }\n  }, {\n    key: \"getCss\",\n    value: function getCss() {\n      return this.keyframesRules + this.fontFaceRules + stringify(this.styleRules, this.styleCache.getSortedCacheKeys());\n    }\n  }]);\n  return StyletronServer;\n}();\nexport function generateHtmlString(sheets, className) {\n  var html = \"\";\n  for (var i = 0; i < sheets.length; i++) {\n    var sheet = sheets[i];\n    var _sheet$attrs = sheet.attrs,\n      originalClassName = _sheet$attrs.class,\n      rest = _objectWithoutProperties(_sheet$attrs, _excluded);\n    var attrs = _objectSpread({\n      class: originalClassName ? \"\".concat(className, \" \").concat(originalClassName) : className\n    }, rest);\n    html += \"<style\".concat(attrsToString(attrs), \">\").concat(sheet.css, \"</style>\");\n  }\n  return html;\n}\nfunction attrsToString(attrs) {\n  var result = \"\";\n  for (var attr in attrs) {\n    var value = attrs[attr];\n    if (value === true) {\n      result += \" \" + attr;\n    } else if (value !== false) {\n      result += \" \".concat(attr, \"=\\\"\").concat(value, \"\\\"\");\n    }\n  }\n  return result;\n}\nfunction stringify(styleRules, sortedCacheKeys) {\n  var result = \"\";\n  sortedCacheKeys.forEach(function (cacheKey) {\n    var rules = styleRules[cacheKey];\n    if (cacheKey !== \"\") {\n      result += \"@media \".concat(cacheKey, \"{\").concat(rules, \"}\");\n    } else {\n      result += rules;\n    }\n  });\n  return result;\n}\nfunction sheetify(styleRules, sortedCacheKeys) {\n  if (sortedCacheKeys.length === 0) {\n    return [{\n      css: \"\",\n      attrs: {}\n    }];\n  }\n  var sheets = [];\n  sortedCacheKeys.forEach(function (cacheKey) {\n    // omit media (cacheKey) attribute if empty\n    var attrs = cacheKey === \"\" ? {} : {\n      media: cacheKey\n    };\n    sheets.push({\n      css: styleRules[cacheKey],\n      attrs: attrs\n    });\n  });\n  return sheets;\n}\nexport default StyletronServer;","map":{"version":3,"names":["SequentialIDGenerator","Cache","MultiCache","injectStylePrefixed","styleBlockToRule","atomicSelector","keyframesBlockToRule","declarationsToBlock","keyframesToBlock","fontFaceBlockToRule","StyletronServer","_this","opts","arguments","length","undefined","_classCallCheck","styleRules","styleCache","prefix","media","cache","id","value","pseudo","block","key","fontFaceRules","fontFaceCache","keyframesRules","keyframesCache","_createClass","renderStyle","style","renderFontFace","fontFace","JSON","stringify","addValue","renderKeyframes","keyframes","getStylesheets","concat","_toConsumableArray","css","attrs","sheetify","getSortedCacheKeys","getStylesheetsHtml","className","generateHtmlString","getCss","sheets","html","i","sheet","_sheet$attrs","originalClassName","class","rest","_objectWithoutProperties","_excluded","_objectSpread","attrsToString","result","attr","sortedCacheKeys","forEach","cacheKey","rules","push"],"sources":["D:\\MyPortfolio-master\\node_modules\\styletron-engine-atomic\\dist-browser-esm\\server\\src\\server\\server.ts"],"sourcesContent":["import SequentialIDGenerator from \"../sequential-id-generator\";\n\nimport type {StandardEngine} from \"styletron-standard\";\n\nimport {Cache, MultiCache} from \"../cache\";\n\nimport injectStylePrefixed from \"../inject-style-prefixed\";\n\nimport type {\n  StyleObject,\n  FontFaceObject,\n  KeyframesObject,\n} from \"styletron-standard\";\n\nimport {\n  styleBlockToRule,\n  atomicSelector,\n  keyframesBlockToRule,\n  declarationsToBlock,\n  keyframesToBlock,\n  fontFaceBlockToRule,\n} from \"../css\";\n\nexport type attrsT = {\n  \"data-hydrate\"?: \"keyframes\" | \"font-face\";\n  media?: string;\n  class?: string;\n};\n\nexport type sheetT = {\n  css: string;\n  attrs: attrsT;\n};\n\ntype optionsT = {\n  prefix?: string;\n};\n\nclass StyletronServer implements StandardEngine {\n  styleCache: MultiCache<{\n    pseudo: string;\n    block: string;\n  }>;\n  keyframesCache: Cache<KeyframesObject>;\n  fontFaceCache: Cache<FontFaceObject>;\n  styleRules: {\n    [x: string]: string;\n  };\n  keyframesRules: string;\n  fontFaceRules: string;\n\n  constructor(opts: optionsT = {}) {\n    this.styleRules = {\"\": \"\"};\n    this.styleCache = new MultiCache(\n      new SequentialIDGenerator(opts.prefix),\n      media => {\n        this.styleRules[media] = \"\";\n      },\n      (cache, id, value) => {\n        const {pseudo, block} = value;\n        this.styleRules[cache.key] += styleBlockToRule(\n          atomicSelector(id, pseudo),\n          block,\n        );\n      },\n    );\n\n    this.fontFaceRules = \"\";\n    this.fontFaceCache = new Cache(\n      new SequentialIDGenerator(opts.prefix),\n      (cache, id, value) => {\n        this.fontFaceRules += fontFaceBlockToRule(\n          id,\n          declarationsToBlock(value),\n        );\n      },\n    );\n\n    this.keyframesRules = \"\";\n    this.keyframesCache = new Cache(\n      new SequentialIDGenerator(opts.prefix),\n      (cache, id, value) => {\n        this.keyframesRules += keyframesBlockToRule(\n          id,\n          keyframesToBlock(value),\n        );\n      },\n    );\n  }\n\n  renderStyle(style: StyleObject): string {\n    return injectStylePrefixed(this.styleCache, style, \"\", \"\");\n  }\n\n  renderFontFace(fontFace: FontFaceObject): string {\n    const key = JSON.stringify(fontFace);\n    return this.fontFaceCache.addValue(key, fontFace);\n  }\n\n  renderKeyframes(keyframes: KeyframesObject): string {\n    const key = JSON.stringify(keyframes);\n    return this.keyframesCache.addValue(key, keyframes);\n  }\n\n  getStylesheets(): Array<sheetT> {\n    return [\n      ...(this.keyframesRules.length\n        ? [\n            {\n              css: this.keyframesRules,\n              attrs: {\"data-hydrate\": \"keyframes\"},\n            } as sheetT,\n          ]\n        : []),\n      ...(this.fontFaceRules.length\n        ? [\n            {\n              css: this.fontFaceRules,\n              attrs: {\"data-hydrate\": \"font-face\"},\n            } as sheetT,\n          ]\n        : []),\n      ...sheetify(this.styleRules, this.styleCache.getSortedCacheKeys()),\n    ];\n  }\n\n  getStylesheetsHtml(className: string = \"_styletron_hydrate_\") {\n    return generateHtmlString(this.getStylesheets(), className);\n  }\n\n  getCss() {\n    return (\n      this.keyframesRules +\n      this.fontFaceRules +\n      stringify(this.styleRules, this.styleCache.getSortedCacheKeys())\n    );\n  }\n}\n\nexport function generateHtmlString(sheets: Array<sheetT>, className: string) {\n  let html = \"\";\n  for (let i = 0; i < sheets.length; i++) {\n    const sheet = sheets[i];\n    const {class: originalClassName, ...rest} = sheet.attrs;\n    const attrs = {\n      class: originalClassName\n        ? `${className} ${originalClassName}`\n        : className,\n      ...(rest as attrsT),\n    };\n    html += `<style${attrsToString(attrs)}>${sheet.css}</style>`;\n  }\n  return html;\n}\n\nfunction attrsToString(attrs: attrsT) {\n  let result = \"\";\n  for (const attr in attrs) {\n    const value = attrs[attr];\n    if (value === true) {\n      result += \" \" + attr;\n    } else if (value !== false) {\n      result += ` ${attr}=\"${value}\"`;\n    }\n  }\n  return result;\n}\n\nfunction stringify(styleRules, sortedCacheKeys) {\n  let result = \"\";\n  sortedCacheKeys.forEach(cacheKey => {\n    const rules = styleRules[cacheKey];\n    if (cacheKey !== \"\") {\n      result += `@media ${cacheKey}{${rules}}`;\n    } else {\n      result += rules;\n    }\n  });\n  return result;\n}\n\nfunction sheetify(styleRules, sortedCacheKeys): Array<sheetT> {\n  if (sortedCacheKeys.length === 0) {\n    return [{css: \"\", attrs: {}}];\n  }\n  const sheets = [];\n  sortedCacheKeys.forEach(cacheKey => {\n    // omit media (cacheKey) attribute if empty\n    const attrs = cacheKey === \"\" ? {} : {media: cacheKey};\n    sheets.push({css: styleRules[cacheKey], attrs});\n  });\n  return sheets;\n}\n\nexport default StyletronServer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}